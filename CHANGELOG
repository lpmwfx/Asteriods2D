# CHANGELOG - AxiumForge SDF Asteroids

All notable changes to this project will be documented in this file.

## [Unreleased]

### [2025-12-01] - MVP COMPLETE! (Sections 11-16)

#### Added
- **Protected Zone System**:
  - Collision detection for meteors crossing inner zone
  - Configurable penalty (instant game over or lose life)
  - Distance-based detection from screen center
  - Visual warning when breached

- **Ship-Meteor Collision Detection**:
  - Box2D collision callbacks registered in physics system
  - Ship takes damage and loses life on meteor impact
  - Meteor destroyed on collision with ship
  - Ship respawn system after losing life

- **Game Over System**:
  - Triggered when lives reach zero
  - Displays final score and meteors destroyed
  - Press SPACE to restart game
  - Clean state reset on restart

- **Ship Respawn**:
  - Respawns at center after losing life
  - Maintains remaining lives count
  - Full physics reset

- **Score System**:
  - +10 points per meteor destroyed
  - Score tracked and displayed in UI
  - Score persists until game over
  - Displayed in game over screen

- **README.md**:
  - Complete installation instructions
  - Control scheme documentation
  - Gameplay features overview
  - Technical architecture explanation
  - Project structure documentation
  - Development status and roadmap

#### Updated
- **TODO**: Added FASE 2 with advanced visual features from project.md
- **TODO**: All MVP sections (1-16) marked as complete
- **game_state.lua**: Complete collision and game over logic
- **UI**: Score display integrated with game state

#### Gameplay Features (All MVP Requirements Met!)
- ✅ Full game loop from menu to game over
- ✅ 3 lives with respawn system
- ✅ Protected zone defense mechanic
- ✅ Score tracking and display
- ✅ Complete collision detection
- ✅ Game over with restart functionality
- ✅ All controls responsive and functional

#### Technical Achievements
- Pure SDF rendering (zero bitmap assets)
- Box2D collision callbacks for all interactions
- Data-driven architecture throughout
- Modular, maintainable codebase
- Complete MVP scope from project.md delivered

#### Documentation
- README.md with complete usage guide
- TODO updated with FASE 2 advanced features
- CHANGELOG tracking all implementations
- Code comments throughout

#### Testing
- Full gameplay loop tested
- Collision detection verified
- Game over and respawn tested
- Score system validated
- No errors or crashes

#### Project Status: MVP COMPLETE ✅
All requirements from project.md Section 7 (MVP scope) delivered:
1. ✅ Grundloop i LÖVE
2. ✅ Rumskib med rotation + thrust
3. ✅ Meteor-spawn i ring
4. ✅ Railgun-skud + collision
5. ✅ SDF-datafil for meteorer
6. ✅ Baggrund med sol/planeter
7. ✅ README + TODO

#### Next Phase
FASE 2: Visual Enhancement
- 3D-lignende shading system
- Pseudo-3D rendering with normals
- Advanced solar system with terminators
- Multi-layer ship rendering
- See TODO for complete roadmap

### [2025-12-01] - Core Gameplay Implementation (Sections 5-8)

#### Added
- **Ship Entity** (`src/entities/ship.lua`):
  - Box2D polygon body (triangle shape) with physics
  - Rotation controls (left/right arrows)
  - Forward thrust with visual flame effect (up arrow)
  - Screen wrapping
  - SDF rendering with glow effect
  - Max speed limiting

- **Meteor Entity** (`src/entities/meteor.lua`):
  - SDF composite rendering from primitives data
  - Box2D circular collision body
  - Mass calculation from SDF volume and density
  - Damage accumulation system
  - TSDF fragmentation when damage threshold exceeded
  - Fragments inherit scaled SDF data and physics properties
  - Random angular velocity for rotation

- **Meteor Spawning System**:
  - Spawns meteors in ring outside screen
  - Random positions and velocities aimed at center
  - Configurable spawn rate and maximum count
  - Random meteor type selection (small, medium, large)

- **Railgun Weapon System** (`src/entities/railgun.lua`):
  - Instant-hit raycast collision detection
  - Penetrates through all objects in path
  - Cooldown timer between shots (1 second)
  - Applies damage to all hit meteors
  - Visual beam effects with fade-out animation
  - Impact flash effects at hit points
  - Space bar to fire

#### Updated
- **game_state.lua**: Integrated Ship, Meteor, and Railgun entities
- **main.lua**: UI now receives game state data (score, lives, meteor count, railgun cooldown)
- **ui.lua**: Displays real-time railgun cooldown bar

#### Gameplay Features
- Fully playable game loop:
  1. Press SPACE to start game
  2. Arrow keys to rotate and thrust ship
  3. SPACE to fire railgun at meteors
  4. Meteors fragment into smaller pieces when hit
  5. Fragments continue with realistic physics
- Animated background with orbiting planets
- Protected zone visualization (center circle)
- Real-time HUD with all game stats

#### Technical
- All entities use SDF rendering (no bitmap assets)
- Box2D physics for all objects
- Data-driven meteor definitions with 6 variants
- TSDF fragmentation with configurable parameters
- Penetrating raycast weapon system

#### Testing
- Full gameplay loop tested successfully
- No errors or crashes
- Ship controls responsive
- Meteors spawn and move correctly
- Railgun hits and fragments meteors as expected
- UI updates correctly

#### Next Steps
- Implement protected zone penalty system
- Add ship-meteor collision detection
- Polish and tuning (spawn rates, difficulty)
- Add game over conditions

### [2025-12-01] - Initial Project Structure

#### Added
- Project directory structure created:
  - `src/core/` - Core game systems
  - `src/entities/` - Game entities (ship, meteors, railgun)
  - `src/render/` - Rendering systems
  - `src/data/` - Data definitions and settings

- **Configuration Files**:
  - `conf.lua` - L�VE 11.5 configuration with 1280x720 window
  - `main.lua` - Main game loop with love.load(), love.update(dt), love.draw()

- **Core Systems** (`src/core/`):
  - `physics.lua` - Box2D physics world with zero gravity for space simulation
  - `input.lua` - Centralized keyboard input handling
  - `game_state.lua` - Game state management (menu, playing, paused, game_over)

- **Data Layer** (`src/data/`):
  - `settings.lua` - All game constants and parameters (data-driven architecture)
  - `sdf_meteors.lua` - SDF meteor definitions with 6 meteor variants (small, medium, large)

- **Rendering Systems** (`src/render/`):
  - `draw_sdf.lua` - SDF rendering functions (circles, composites, lines, polygons with glow)
  - `background.lua` - Animated solar system background with orbiting planets
  - `ui.lua` - HUD system (score, lives, meteor count, railgun cooldown, FPS)

- **Reference Documentation**:
  - `RAG` file with L�VE 2D documentation links for future reference

#### Technical Details
- L�VE version: 11.5
- Physics: Box2D with zero gravity (space environment)
- Graphics: Pure SDF rendering (no bitmap assets)
- Meter size: 64 pixels per meter

#### Testing
- Project successfully runs with `love .` command
- No errors in initialization
- Menu state displays correctly with background animation

#### Notes
- All code is in English as per project standards
- Documentation is in Danish
- Data-driven architecture: no hardcoded values in game logic
- Modular design with clear separation of concerns

#### Next Steps
- TODO section 1-4 completed (Project setup, Core Systems, Data Layer, SDF Rendering)
- Ready to implement entities (Ship, Meteor, Railgun) in next iteration
